{"ast":null,"code":"import { Device } from 'mediasoup-client';\nimport { io } from 'socket.io-client';\n\n// Kết nối tới server (đổi URL nếu cần)\nconst socket = io('http://localhost:3000');\n\n// Xử lý nút \"Tham gia\"\ndocument.getElementById('join-button').addEventListener('click', async () => {\n  const username = document.getElementById('username').value;\n  const roomId = document.getElementById('room-id').value;\n  if (!username || !roomId) {\n    alert('Vui lòng nhập đầy đủ thông tin!');\n    return;\n  }\n\n  // Ví dụ: gửi yêu cầu join room tới server qua socket\n  socket.emit('joinRoom', {\n    username,\n    roomId\n  }, async data => {\n    // data.rtpCapabilities từ server\n    const device = new Device();\n    await device.load({\n      routerRtpCapabilities: data.rtpCapabilities\n    });\n    // Tiếp tục logic tạo transport, produce, consume...\n    console.log('Đã load device với rtpCapabilities:', data.rtpCapabilities);\n  });\n});","map":{"version":3,"names":["Device","io","socket","document","getElementById","addEventListener","username","value","roomId","alert","emit","data","device","load","routerRtpCapabilities","rtpCapabilities","console","log"],"sources":["D:/LECHUAN/NT114/DACN_2/DACN-FE/src/index.js"],"sourcesContent":["import { Device } from 'mediasoup-client';\r\nimport { io } from 'socket.io-client';\r\n\r\n// Kết nối tới server (đổi URL nếu cần)\r\nconst socket = io('http://localhost:3000');\r\n\r\n// Xử lý nút \"Tham gia\"\r\ndocument.getElementById('join-button').addEventListener('click', async () => {\r\n  const username = document.getElementById('username').value;\r\n  const roomId = document.getElementById('room-id').value;\r\n\r\n  if (!username || !roomId) {\r\n    alert('Vui lòng nhập đầy đủ thông tin!');\r\n    return;\r\n  }\r\n\r\n  // Ví dụ: gửi yêu cầu join room tới server qua socket\r\n  socket.emit('joinRoom', { username, roomId }, async (data) => {\r\n    // data.rtpCapabilities từ server\r\n    const device = new Device();\r\n    await device.load({ routerRtpCapabilities: data.rtpCapabilities });\r\n    // Tiếp tục logic tạo transport, produce, consume...\r\n    console.log('Đã load device với rtpCapabilities:', data.rtpCapabilities);\r\n  });\r\n});\r\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,kBAAkB;AACzC,SAASC,EAAE,QAAQ,kBAAkB;;AAErC;AACA,MAAMC,MAAM,GAAGD,EAAE,CAAC,uBAAuB,CAAC;;AAE1C;AACAE,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAACC,gBAAgB,CAAC,OAAO,EAAE,YAAY;EAC3E,MAAMC,QAAQ,GAAGH,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAC,CAACG,KAAK;EAC1D,MAAMC,MAAM,GAAGL,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC,CAACG,KAAK;EAEvD,IAAI,CAACD,QAAQ,IAAI,CAACE,MAAM,EAAE;IACxBC,KAAK,CAAC,iCAAiC,CAAC;IACxC;EACF;;EAEA;EACAP,MAAM,CAACQ,IAAI,CAAC,UAAU,EAAE;IAAEJ,QAAQ;IAAEE;EAAO,CAAC,EAAE,MAAOG,IAAI,IAAK;IAC5D;IACA,MAAMC,MAAM,GAAG,IAAIZ,MAAM,CAAC,CAAC;IAC3B,MAAMY,MAAM,CAACC,IAAI,CAAC;MAAEC,qBAAqB,EAAEH,IAAI,CAACI;IAAgB,CAAC,CAAC;IAClE;IACAC,OAAO,CAACC,GAAG,CAAC,qCAAqC,EAAEN,IAAI,CAACI,eAAe,CAAC;EAC1E,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}